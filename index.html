<html>
    <head>
        <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body>
          
<div x-data="bookSearch()" x-init="fetchBook()">
    <h1>Library</h1>
    <h2>Search a book by its ID</h2>
  <div>
    <input type="text" name="bookidSearch" x-model="bookidSearch">
    <button type="submit" @click="fetchBook()">
      Search
    </button>
  </div>
  <template x-if="book">
    <div>
      <div>
        <h3 x-text="book.title"></h3>
        <p x-text="book.author"></p>
        <p x-text="book.page_count"></p>
        <p x-text="book.publisher"></p>
        <p x-text="book.format"></p>
      </div>
    </div>
  </template>

  
  <div x-data="randomBook()">
    <h2>Don't know what to read?</h2>
    <button type="submit" @click="fetchRandomBook()">Click me!</button>
    <p x-text="randombook.title"></p>
    <p x-text="randombook.author"></p>
  </div>
  
  <script type="text/javascript">
    function bookSearch() {
      return {
        bookidSearch: "0",
        book: null,
        fetchBook() {
          fetch(`https://randomizer-service-carodaems.cloud.okteto.net/book/${this.bookidSearch}`)
            .then((res) => res.json())
            .then((data) => {
              this.book = data;
            });
        },
      };
    }
  </script>

  <script>
    function randomBook() {
        return {
            randombook: null,
            fetchRandomBook() {
            fetch(`https://randomizer-service-carodaems.cloud.okteto.net/randombook`)
            .then((res) => res.json())
            .then((data) => {
                this.randombook = data;
            });
        },
        };
    }
  </script>
</body>
</html>




